---
import merge from 'lodash.merge';
import Container from '~/components/blocks/composite/Container.astro';
import { cn } from '~/utils/styles';
import type { ContainerProps, FourColumnContainerProps } from '~/types/container.types';

type Props = FourColumnContainerProps;

const {
  gap = 'gap-6',
  responsive = false,
  breakpoint = 'md:',
  gridClass,
  ...containerProps
} = Astro.props;

// Build grid classes
const layoutClass = cn(
  gridClass || (responsive ? `grid-cols-1 ${breakpoint}grid-cols-4` : 'grid-cols-4'),
  gap
);

const defaultContainer = {
  htmlTag: 'div',
  content: { air: 'none', widthType: 'full' },
  layout: { type: 'grid', class: layoutClass },
  printDebug: true,
} as ContainerProps;

const mergedContainerProps = merge({}, defaultContainer, containerProps);
---

<Container {...mergedContainerProps}>
  <slot name="column1" />
  <slot name="column2" />
  <slot name="column3" />
  <slot name="column4" />
</Container>
